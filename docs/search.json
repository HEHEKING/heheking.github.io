[{"title":"Docker 部署 hexo","date":"2020-11-01T07:20:19.873Z","url":"/2020/11/01/docker%20%E9%83%A8%E7%BD%B2%20hexo/","tags":[["教程","/tags/%E6%95%99%E7%A8%8B/"]],"categories":[["undefined",""]],"content":"Docker 部署 hexo方法一、使用 spurin/hexo 架设 hexospurin/hexo 是至2020年中保持更新的一个 hexo 的 docker 镜像，一键部署，比较方便 详细步骤可参考 方法二、使用 zeusro/hexo 架设 hexozeusro/hexo 是不再维护的 hexo 一键部署镜像，因为没有必要。他部署 hexo 只需要一个 公开 PUBLIC 的 github 连接。 方法三、从 Centos7 镜像从零部署这个办法我估摸着就和 hexo 部署教程一模一样了几乎。好像没有使用 docker 的必要？ 但 docker 对于一部分强迫症患者症状减轻真的很有效。 1. 初始化容器 PS：对 docker 还不够熟悉的话，可以先看完整篇文章，再一步步动手操作，这里的挂载目录部分可能会引发误解 2. 安装nodejs14对于 nodejs 来说，版本自然是越高越好。 值得一提的是，这种安装方式，如果没有配置 /etc/profile，全局安装是失效的，事实上局部安装也是无法访问的，因此我建议每建立一个 npm 项目，都更新一次环境变量 3. npm 单次换源换个淘宝源，防止之后使用 npm 时进行不必要的等待，这一行为是仅作用于这一次会话的。 PS：pwd 命令可以帮助我们获取当前路径，这在接下来的步骤中可能有所帮助 4. 安装 hexo（初次接触 hexo）如果我们是初次建立hexo blog，应该是没有 hexo 代码仓库的，那么这里可以直接如官方文档操作。如果已经有 hexo.git 的可以直接跳到第5步 PS：这里 hexo 的实际部署位置为：/root/npm/hexo，那么之前初始化 docker 挂载的时候，也应该是使用这个目录。如：**-v hexo:/root/hexo:/root/npm/hexo** 到这一步，我们就可以开始架设 hexo 了 这时，它会从官方的代码仓库克隆一份原始模板。 至此，一个 hexo 服务器已被架设在本机的 4000 端口。 5. 通过 git 部署 hexo在第一步中，我们 -v 挂载的目录，在这里就是 hexo 的实际目录 PS：在这里，我们需要注意，github的代码仓库，clone下来时，是一个目录，如：HEHEKING/otaku-home 仓库，使用 git clone 后会在该目录创建一个 otaku-home 目录 至此，将 git 上的 hexo 仓库部署到 docker 已完毕。 这里，我们使用 ctrl + P + Q 可以退出当前 docker 容器，回到主容器 当我们 docker attach hexo 时，会发现看似卡了，实际上没有问题，因为 hexo server 不再打印日志了，ctrl + C 退出即可。 PS：配合 docker commit 保存容器为镜像会方便日后使用 总结前两种方式的镜像资源会小很多。 我使用了第三种。直接 git 部署，还没测试过 hexo init 那块教程 如果有问题，亲自调试吧(:з」∠)"},{"title":"Hello World","date":"2020-10-31T12:50:53.466Z","url":"/2020/10/31/hello-world/","categories":[["undefined",""]],"content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post More info: Writing Run server More info: Server Generate static files More info: Generating Deploy to remote sites More info: Deployment"}]